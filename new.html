<!DOCTYPE html>
<html>
<head>
  <title>Booking Example</title>
</head>
<body>
  <button id="bookingBtn">Booking</button>
  <script>
    const bookingBtn = document.getElementById('bookingBtn');
    let cancelBtn;
    let timer;

    bookingBtn.addEventListener('click', initiateBooking);

    function initiateBooking() {
      bookingBtn.disabled = true;
      cancelBtn = document.createElement('button');
      cancelBtn.textContent = 'Cancel';
      cancelBtn.style.backgroundColor = 'gray';
      cancelBtn.addEventListener('click', cancelBooking);
      document.body.appendChild(cancelBtn);

      timer = setTimeout(markSuccessful, 5000);
    }

    function markSuccessful() {
      cancelBtn.removeEventListener('click', cancelBooking);
      cancelBtn.textContent = 'Successful';
      cancelBtn.style.backgroundColor = 'green';
    }

    function cancelBooking() {
      clearTimeout(timer);
      cancelBtn.textContent = 'Cancelled';
      cancelBtn.style.backgroundColor = 'red';
      setTimeout(() => {
        cancelBtn.remove();
        bookingBtn.disabled = false;
      }, 5000);
    }
  </script>
</body>
</html>